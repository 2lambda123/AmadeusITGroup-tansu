<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@amadeus-it-group/tansu](./tansu.md) &gt; [batch](./tansu.batch.md)

## batch variable

Batches multiple changes to stores while calling the provided function, preventing derived stores from updating until the function returns, to avoid unnecessary recomputations.

<b>Signature:</b>

```typescript
batch: <T>(fn: () => T) => T
```

## Remarks

If a store is updated multiple times in the provided function, listeners of that store will only be called once when the provided function returns.

It is possible to have nested calls of batch, in which case only the first (outer) call has an effect, inner calls only call the provided function.

## Example

Using batch in the following example prevents logging the intermediate "Sherlock Lupin" value.

```typescript
const firstName = writable('ArsÃ¨ne');
const lastName = writable('Lupin');
const fullName = derived([firstName, lastName], ([a, b]) => `${a} ${b}`);
fullName.subscribe((name) => console.log(name)); // logs any change to fullName
batch(() => {
    firstName.set('Sherlock');
    lastName.set('Holmes');
});
```

